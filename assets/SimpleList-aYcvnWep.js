import{_ as L,r as o,o as r,c as d,a as n,g as l,w as a,F as p,d as _,e as V,t as f}from"./index-COOF5Zia.js";import{b}from"./komica.svc-KlA8q8So.js";import"./firebase-LKY1-RY1.js";import"./acnh.svc-CO3KZtm1.js";const C={data(){return{keyword:"",items:[],isRefreshing:!1,isLoading:!1,komicaType:this.$route.query.type||"new"}},computed:{filterItems(){return this.items.filter(t=>this.keyword?t.title.includes(this.keyword):!0)}},watch:{komicaType:{immediate:!0,handler(t){t&&this.getList()}}},methods:{async getList(){this.isRefreshing=!1,this.isLoading=!0;const t=await b(this.komicaType);this.isLoading=!1,t.success&&(this.items=t.items)},goDetails(t){const s=this.komicaType==="new"?"KomicaNewDetails":"KomicaLiveDetails";this.$router.push({name:s,params:{id:t.id},query:{title:t.title}})}}},D={class:"list__container"},T={class:"list__content with-safe-area-inset-bottom"},R={class:"margin-r-5"};function B(t,s,x,N,i,c){const h=o("van-search"),m=o("van-tab"),v=o("van-tabs"),g=o("van-skeleton"),u=o("van-cell"),k=o("van-icon"),y=o("van-cell-group"),w=o("van-pull-refresh");return r(),d("div",D,[n(h,{modelValue:i.keyword,"onUpdate:modelValue":s[0]||(s[0]=e=>i.keyword=e),modelModifiers:{trim:!0},placeholder:"請輸入關鍵字搜尋"},null,8,["modelValue"]),l("div",T,[n(v,{modelValue:i.komicaType,"onUpdate:modelValue":s[1]||(s[1]=e=>i.komicaType=e),class:"margin-bt-5",type:"card"},{default:a(()=>[n(m,{title:"新番捏他",name:"new"}),n(m,{title:"新番實況",name:"live"})]),_:1},8,["modelValue"]),n(w,{modelValue:i.isRefreshing,"onUpdate:modelValue":s[2]||(s[2]=e=>i.isRefreshing=e),"head-height":"150",onRefresh:s[3]||(s[3]=e=>c.getList(!0))},{default:a(()=>[n(y,null,{default:a(()=>[i.isLoading?(r(),d(p,{key:0},_(20,e=>n(u,{key:e},{default:a(()=>[n(g,{class:"padding-bt-5 padding-lr-0",row:2})]),_:1})),64)):(r(!0),d(p,{key:1},_(c.filterItems,e=>(r(),V(u,{key:e.id,"is-link":"",clickable:"",center:"",onClick:U=>c.goDetails(e)},{title:a(()=>[l("div",null,[l("span",null,f(e.title),1)])]),label:a(()=>[l("div",null,[l("span",R,f(t.$filters.formatDate(e.dateCreated)),1)])]),"right-icon":a(()=>[l("div",null,[n(k,{name:"chat-o",size:"25",info:e.replyCount},null,8,["info"])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])])])}const S=L(C,[["render",B]]);export{S as default};
