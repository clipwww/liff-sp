import{d as x,r as d,e as y,o as A,w as U,n as k}from"./index-7cae2806.js";import{h as G}from"./movie.svc-7ae90f54.js";import"./firebase-df27de50.js";import"./acnh.svc-9e14a934.js";const L=x({__name:"Vieshow",setup(S){const e={TP:"台北信義威秀影城",MU:"MUVIE CINEMAS 台北松仁",MUC:"MUVIE CINEMAS 台北松仁 (MUCROWN)",QS:"台北京站威秀影城",TX:"台北西門威秀影城",BQ:"板橋大遠百威秀影城",GM:"中和環球威秀影城",HU:"新店裕隆城威秀影城",LK:"林口MITSUI OUTLET PARK威秀影城",LKMP:"林口MITSUI OUTLET PARK威秀影城 (Mappa)",TY:"桃園統領威秀影城",TG:"桃園桃知道威秀影城",HS:"新竹大遠百威秀影城",HSGC:"新竹大遠百威秀影城 (GC)",BC:"新竹巨城威秀影城",TF:"頭份尚順威秀影城",TZ:"台中大遠百威秀影城",TT01:"MUVIE CINEMAS 台中TIGER CITY",TT02:"MUVIE CINEMAS 台中TIGER CITY (GC)",MM:"台中大魯閣新時代威秀影城",TN:"台南大遠百威秀影城",FC:"台南FOCUS威秀影城",NF:"台南南紡威秀影城",NFGC:"台南南紡威秀影城 (GC)",KS:"高雄大遠百威秀影城",KSGC:"高雄大遠百威秀影城 (GC)",HL:"花蓮新天堂樂園威秀影城"},t=d(""),n=d("LK"),a=y(()=>Object.entries(e).map(([o,l])=>({text:l,value:o}))),s=d([]),i=d([]),c=y(()=>i.value.filter(o=>t.value?o.name.includes(t.value)||o.nameEN.includes(t.value):!0));A(()=>{p()}),U(n,p);async function p(){const o=await G(n.value),l=document.createElement("div");l.id="wrap",l.innerHTML=o;const w=l.querySelectorAll("#wrap > .col-xs-12");i.value=Array.from(w).map(m=>{var _,f,C,T;const N=((f=(_=m.querySelector(".LangTW.MovieName"))==null?void 0:_.textContent)==null?void 0:f.trim())||"",v=((T=(C=m.querySelector(".LangEN.MovieName"))==null?void 0:C.textContent)==null?void 0:T.trim())||"",I=Array.from(m.querySelectorAll(".LangTW.RealShowDate")).map(u=>{var r;return((r=u.textContent)==null?void 0:r.trim())||""}),h=Array.from(m.querySelectorAll(".SessionTimeInfo")).map(u=>Array.from(u.querySelectorAll("div")).map(r=>{var M;return((M=r.textContent)==null?void 0:M.trim())||""}));return{id:btoa(v),name:N,nameEN:v,showTimes:h.map((u,r)=>({date:I[r],times:u}))}})}function E(o){return!1}return{__sfc:!0,CinemaCodeMapping:e,keyword:t,cinemaCode:n,cinemaOptions:a,activeName:s,movies:i,filteredMovies:c,fetchData:p,isExpired:E}}});var g=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("van-dropdown-menu",[t("van-dropdown-item",{attrs:{options:n.cinemaOptions},model:{value:n.cinemaCode,callback:function(a){n.cinemaCode=a},expression:"cinemaCode"}})],1),t("van-search",{attrs:{placeholder:"輸入關鍵字篩選"},model:{value:n.keyword,callback:function(a){n.keyword=a},expression:"keyword"}}),t("van-collapse",{attrs:{border:""},model:{value:n.activeName,callback:function(a){n.activeName=a},expression:"activeName"}},e._l(n.filteredMovies,function(a){return t("van-collapse-item",{key:a.id,attrs:{title:a.name,name:a.id}},[e._v(" "+e._s(a.nameEN)+" "),e._l(a.showTimes,function(s,i){return t("van-cell",{key:i,attrs:{title:s.date},scopedSlots:e._u([{key:"label",fn:function(){return e._l(s.times,function(c){return t("van-tag",{key:c,staticClass:"margin-a-5",attrs:{type:n.isExpired(`${s.date} ${c}`)?"default":"success",plain:"",size:"medium"}},[e._v(" "+e._s(c)+" ")])})},proxy:!0}],null,!0)})})],2)}),1)],1)},V=[],b=k(L,g,V,!1,null,null,null,null);const q=b.exports;export{q as default};
