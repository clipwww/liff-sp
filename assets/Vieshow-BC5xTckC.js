import{O as k,P as F,Q as K,r as o,o as l,c,a as d,w as m,F as S,d as E,e as y,b as V,t as U,R as p,S as A}from"./index-COOF5Zia.js";import{h as O}from"./movie.svc-CBsKLzfe.js";import"./firebase-LKY1-RY1.js";import"./acnh.svc-CO3KZtm1.js";const P=k({__name:"Vieshow",setup(R){const G={TP:"台北信義威秀影城",MU:"MUVIE CINEMAS 台北松仁",MUC:"MUVIE CINEMAS 台北松仁 (MUCROWN)",QS:"台北京站威秀影城",TX:"台北西門威秀影城",BQ:"板橋大遠百威秀影城",GM:"中和環球威秀影城",HU:"新店裕隆城威秀影城",LK:"林口MITSUI OUTLET PARK威秀影城",LKMP:"林口MITSUI OUTLET PARK威秀影城 (Mappa)",TY:"桃園統領威秀影城",TG:"桃園桃知道威秀影城",HS:"新竹大遠百威秀影城",HSGC:"新竹大遠百威秀影城 (GC)",BC:"新竹巨城威秀影城",TF:"頭份尚順威秀影城",TZ:"台中大遠百威秀影城",TT01:"MUVIE CINEMAS 台中TIGER CITY",TT02:"MUVIE CINEMAS 台中TIGER CITY (GC)",MM:"台中大魯閣新時代威秀影城",TN:"台南大遠百威秀影城",FC:"台南FOCUS威秀影城",NF:"台南南紡威秀影城",NFGC:"台南南紡威秀影城 (GC)",KS:"高雄大遠百威秀影城",KSGC:"高雄大遠百威秀影城 (GC)",HL:"花蓮新天堂樂園威秀影城"},s=p(""),u=p("LK"),L=A(()=>Object.entries(G).map(([n,t])=>({text:t,value:n}))),w=p([]),I=p([]),g=A(()=>I.value.filter(n=>s.value?n.name.includes(s.value)||n.nameEN.includes(s.value):!0));F(()=>{N()}),K(u,N);async function N(){const n=await O(u.value),t=document.createElement("div");t.id="wrap",t.innerHTML=n;const v=t.querySelectorAll("#wrap > .col-xs-12");I.value=Array.from(v).map(r=>{const _=r.querySelector(".LangTW.MovieName")?.textContent?.trim()||"",i=r.querySelector(".LangEN.MovieName")?.textContent?.trim()||"",T=Array.from(r.querySelectorAll(".LangTW.RealShowDate")).map(a=>a.textContent?.trim()||""),C=Array.from(r.querySelectorAll(".SessionTimeInfo")).map(a=>Array.from(a.querySelectorAll("div")).map(e=>e.textContent?.trim()||""));return{id:btoa(i),name:_,nameEN:i,showTimes:C.map((a,e)=>({date:T[e],times:a}))}})}function x(n){return!1}return(n,t)=>{const v=o("van-dropdown-item"),r=o("van-dropdown-menu"),_=o("van-search"),i=o("van-tag"),T=o("van-cell"),C=o("van-collapse-item"),a=o("van-collapse");return l(),c("div",null,[d(r,null,{default:m(()=>[d(v,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),options:L.value},null,8,["modelValue","options"])]),_:1}),d(_,{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),placeholder:"輸入關鍵字篩選"},null,8,["modelValue"]),d(a,{modelValue:w.value,"onUpdate:modelValue":t[2]||(t[2]=e=>w.value=e),border:""},{default:m(()=>[(l(!0),c(S,null,E(g.value,e=>(l(),y(C,{key:e.id,title:e.name,name:e.id},{default:m(()=>[V(U(e.nameEN)+" ",1),(l(!0),c(S,null,E(e.showTimes,(M,h)=>(l(),y(T,{key:h,title:M.date},{label:m(()=>[(l(!0),c(S,null,E(M.times,f=>(l(),y(i,{key:f,type:x(`${M.date} ${f}`)?"default":"success",plain:"",class:"margin-a-5",size:"medium"},{default:m(()=>[V(U(f),1)]),_:2},1032,["type"]))),128))]),_:2},1032,["title"]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])])}}});export{P as default};
